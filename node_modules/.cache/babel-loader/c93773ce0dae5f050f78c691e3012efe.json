{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\91970\\\\Downloads\\\\React - Apps\\\\SHANTHI\\\\Search-Paginate\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\91970\\\\Downloads\\\\React - Apps\\\\SHANTHI\\\\Search-Paginate\\\\src\\\\Components\\\\Mainpage.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchdata } from \"../Store/actions\";\nimport Posts from \"./posts\";\nimport Search from \"./search\";\nimport Paginate from \"./paginate\";\nimport Cards from \"./cards\";\n\nvar Mainpage = () => {\n  var dispatch = useDispatch();\n  var data = useSelector(state => state.root);\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      noofPosts = _useState2[0],\n      setnoofPosts = _useState2[1];\n\n  var _useState3 = useState(12),\n      _useState4 = _slicedToArray(_useState3, 2),\n      perpage = _useState4[0],\n      setperpage = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentpage = _useState6[0],\n      setcurrentpage = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      startpos = _useState8[0],\n      setstartpos = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      endpos = _useState10[0],\n      setendpos = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      filtereddata = _useState12[0],\n      setfiltereddata = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      dispalypaginate = _useState14[0],\n      setdisplaypaginate = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      searchval = _useState16[0],\n      setsearchval = _useState16[1];\n\n  useEffect(() => {\n    dispatch(fetchdata());\n    setdisplaypaginate(false);\n    setendpos(currentpage * perpage);\n    setstartpos(endpos - perpage);\n  }, [dispatch, startpos, endpos, noofPosts, currentpage]);\n\n  var prevclickHandler = () => {\n    setcurrentpage(currentpage - 1);\n  };\n\n  var nextclickhandler = () => {\n    setcurrentpage(currentpage + 1);\n  };\n\n  var changeHandler = event => {\n    if (event.target.value.length > 0) {\n      setdisplaypaginate(true);\n    }\n\n    if (event.target.value.length === 0) {\n      setdisplaypaginate(false);\n    }\n\n    setsearchval(event.target.value);\n  };\n\n  var updateddata = data.ServerPostsData; // const changeddata = updateddata.filter((post) =>\n  //   post.title.toLowerCase().search(event.target.value.toLowerCase())\n\n  var changeddata = updateddata.filter(post => post.title.toLowerCase().includes(searchval.toLowerCase())); // setfiltereddata(changeddata);\n\n  var currentPosts = changeddata.slice(startpos, endpos);\n\n  if (data.loading) {\n    return /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      variant: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    change: event => changeHandler(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, currentPosts.map(post => /*#__PURE__*/React.createElement(Cards, {\n    postdata: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paginate, {\n    prevclick: prevclickHandler,\n    nextclick: nextclickhandler,\n    curpage: currentpage,\n    totalposts: changeddata.length,\n    postperpage: perpage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Mainpage;","map":{"version":3,"sources":["C:/Users/91970/Downloads/React - Apps/SHANTHI/Search-Paginate/src/Components/Mainpage.js"],"names":["React","useEffect","useState","useDispatch","useSelector","fetchdata","Posts","Search","Paginate","Cards","Mainpage","dispatch","data","state","root","noofPosts","setnoofPosts","perpage","setperpage","currentpage","setcurrentpage","startpos","setstartpos","endpos","setendpos","filtereddata","setfiltereddata","dispalypaginate","setdisplaypaginate","searchval","setsearchval","prevclickHandler","nextclickhandler","changeHandler","event","target","value","length","updateddata","ServerPostsData","changeddata","filter","post","title","toLowerCase","includes","currentPosts","slice","loading","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { fetchdata } from \"../Store/actions\";\r\nimport Posts from \"./posts\";\r\nimport Search from \"./search\";\r\nimport Paginate from \"./paginate\";\r\nimport Cards from \"./cards\";\r\n\r\nconst Mainpage = () => {\r\n  const dispatch = useDispatch();\r\n  const data = useSelector((state) => state.root);\r\n  const [noofPosts, setnoofPosts] = useState(0);\r\n  const [perpage, setperpage] = useState(12);\r\n  const [currentpage, setcurrentpage] = useState(1);\r\n  const [startpos, setstartpos] = useState(0);\r\n  const [endpos, setendpos] = useState(0);\r\n  const [filtereddata, setfiltereddata] = useState([]);\r\n  const [dispalypaginate, setdisplaypaginate] = useState(false);\r\n  const [searchval, setsearchval] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(fetchdata());\r\n    setdisplaypaginate(false);\r\n    setendpos(currentpage * perpage);\r\n    setstartpos(endpos - perpage);\r\n  }, [dispatch, startpos, endpos, noofPosts, currentpage]);\r\n\r\n  const prevclickHandler = () => {\r\n    setcurrentpage(currentpage - 1);\r\n  };\r\n\r\n  const nextclickhandler = () => {\r\n    setcurrentpage(currentpage + 1);\r\n  };\r\n\r\n  const changeHandler = (event) => {\r\n    if (event.target.value.length > 0) {\r\n      setdisplaypaginate(true);\r\n    }\r\n    if (event.target.value.length === 0) {\r\n      setdisplaypaginate(false);\r\n    }\r\n    setsearchval(event.target.value);\r\n  };\r\n  const updateddata = data.ServerPostsData;\r\n  // const changeddata = updateddata.filter((post) =>\r\n  //   post.title.toLowerCase().search(event.target.value.toLowerCase())\r\n  const changeddata = updateddata.filter((post) =>\r\n    post.title.toLowerCase().includes(searchval.toLowerCase())\r\n  );\r\n\r\n  // setfiltereddata(changeddata);\r\n  const currentPosts = changeddata.slice(startpos, endpos);\r\n\r\n  if (data.loading) {\r\n    return <Spinner animation=\"border\" variant=\"secondary\" />;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"row\">\r\n        <Search change={(event) => changeHandler(event)} />\r\n      </div>\r\n      <div className=\"row\">\r\n        {currentPosts.map((post) => (\r\n          <Cards postdata={post} />\r\n        ))}\r\n      </div>\r\n      <div className=\"row\">\r\n        <Paginate\r\n          prevclick={prevclickHandler}\r\n          nextclick={nextclickhandler}\r\n          curpage={currentpage}\r\n          totalposts={changeddata.length}\r\n          postperpage={perpage}\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Mainpage;\r\n"]},"metadata":{},"sourceType":"module"}