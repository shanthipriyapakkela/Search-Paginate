{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\91970\\\\Downloads\\\\React - Apps\\\\SHANTHI\\\\Search-Paginate\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\91970\\\\Downloads\\\\React - Apps\\\\SHANTHI\\\\Search-Paginate\\\\src\\\\Components\\\\Mainpage.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Spinner, Toast, ToastBody, ToastHeader } from \"reactstrap\";\nimport MdWarning from \"react-ionicons/lib/MdWarning\";\nimport { fetchdata, SET_CURRENTPAGE } from \"../Store/actions\";\nimport Posts from \"./posts\";\nimport Search from \"./search\";\nimport Paginate from \"./paginate\";\nimport Cards from \"./cards\";\n\nvar Mainpage = () => {\n  var dispatch = useDispatch();\n  var data = useSelector(state => state.root);\n  var currentpage = useSelector(state => state.root.currentPage);\n  var perpage = useSelector(state => state.root.perPage);\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchval = _useState2[0],\n      setsearchval = _useState2[1];\n\n  useEffect(() => {\n    dispatch(fetchdata());\n  }, [dispatch]);\n\n  var prevclickHandler = () => {\n    dispatch({\n      type: SET_CURRENTPAGE,\n      payload: currentpage - 1\n    });\n  };\n\n  var nextclickhandler = () => {\n    dispatch({\n      type: SET_CURRENTPAGE,\n      payload: currentpage + 1\n    });\n  };\n\n  var changeHandler = event => {\n    setsearchval(event.target.value);\n  };\n\n  var updateddata = data.ServerPostsData; // const changeddata = updateddata.filter((post) =>\n  //   post.title.toLowerCase().search(event.target.value.toLowerCase())\n\n  var filteredData = updateddata.filter(post => post.title.toLowerCase().includes(searchval.toLowerCase()));\n  var endpos = currentpage * perpage;\n  var startpos = endpos - perpage;\n  var currentPosts = filteredData.slice(startpos, endpos);\n\n  if (data.loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      style: {\n        width: \"4rem\",\n        height: \"4rem\",\n        marginTop: \"5rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (data.error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mx-auto p-5\",\n      style: {\n        width: \"350px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Toast, {\n      className: \"p-1 bg-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ToastHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MdWarning, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    })), \"Something went Wrong! Reload again\")));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    change: event => changeHandler(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, currentPosts.map(post => /*#__PURE__*/React.createElement(Cards, {\n    postdata: post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paginate, {\n    prevclick: prevclickHandler,\n    nextclick: nextclickhandler,\n    curpage: currentpage,\n    totalposts: filteredData.length,\n    postperpage: perpage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Mainpage;","map":{"version":3,"sources":["C:/Users/91970/Downloads/React - Apps/SHANTHI/Search-Paginate/src/Components/Mainpage.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Spinner","Toast","ToastBody","ToastHeader","MdWarning","fetchdata","SET_CURRENTPAGE","Posts","Search","Paginate","Cards","Mainpage","dispatch","data","state","root","currentpage","currentPage","perpage","perPage","searchval","setsearchval","prevclickHandler","type","payload","nextclickhandler","changeHandler","event","target","value","updateddata","ServerPostsData","filteredData","filter","post","title","toLowerCase","includes","endpos","startpos","currentPosts","slice","loading","width","height","marginTop","error","map","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Spinner, Toast, ToastBody, ToastHeader } from \"reactstrap\";\r\nimport MdWarning from \"react-ionicons/lib/MdWarning\";\r\n\r\nimport { fetchdata, SET_CURRENTPAGE } from \"../Store/actions\";\r\nimport Posts from \"./posts\";\r\nimport Search from \"./search\";\r\nimport Paginate from \"./paginate\";\r\nimport Cards from \"./cards\";\r\n\r\nconst Mainpage = () => {\r\n  const dispatch = useDispatch();\r\n  const data = useSelector((state) => state.root);\r\n  const currentpage = useSelector((state) => state.root.currentPage);\r\n  const perpage = useSelector((state) => state.root.perPage);\r\n  const [searchval, setsearchval] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(fetchdata());\r\n  }, [dispatch]);\r\n\r\n  const prevclickHandler = () => {\r\n    dispatch({ type: SET_CURRENTPAGE, payload: currentpage - 1 });\r\n  };\r\n\r\n  const nextclickhandler = () => {\r\n    dispatch({ type: SET_CURRENTPAGE, payload: currentpage + 1 });\r\n  };\r\n\r\n  const changeHandler = (event) => {\r\n    setsearchval(event.target.value);\r\n  };\r\n  const updateddata = data.ServerPostsData;\r\n  // const changeddata = updateddata.filter((post) =>\r\n  //   post.title.toLowerCase().search(event.target.value.toLowerCase())\r\n  const filteredData = updateddata.filter((post) =>\r\n    post.title.toLowerCase().includes(searchval.toLowerCase())\r\n  );\r\n\r\n  const endpos = currentpage * perpage;\r\n  const startpos = endpos - perpage;\r\n  const currentPosts = filteredData.slice(startpos, endpos);\r\n\r\n  if (data.loading) {\r\n    return (\r\n      <div className=\"mx-auto\">\r\n        <Spinner style={{ width: \"4rem\", height: \"4rem\", marginTop: \"5rem\" }} />\r\n      </div>\r\n    );\r\n  }\r\n  if (data.error) {\r\n    return (\r\n      <div className=\"mx-auto p-5\" style={{ width: \"350px\" }}>\r\n        <Toast className=\"p-1 bg-info\">\r\n          <ToastHeader>\r\n            <span>\r\n              <MdWarning />\r\n            </span>\r\n            Something went Wrong! Reload again\r\n          </ToastHeader>\r\n        </Toast>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"row\">\r\n        <Search change={(event) => changeHandler(event)} />\r\n      </div>\r\n      <div className=\"row\">\r\n        {currentPosts.map((post) => (\r\n          <Cards postdata={post} />\r\n        ))}\r\n      </div>\r\n      <div className=\"row\">\r\n        <Paginate\r\n          prevclick={prevclickHandler}\r\n          nextclick={nextclickhandler}\r\n          curpage={currentpage}\r\n          totalposts={filteredData.length}\r\n          postperpage={perpage}\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Mainpage;\r\n"]},"metadata":{},"sourceType":"module"}